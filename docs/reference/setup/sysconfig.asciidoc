[[system-config]]
== 重要系统配置

理想情况下，Elasticsearch 应该在服务器上独立运行并使用所有的可用资源。
为了做到这一点，你需要配置你的操作系统，使得运行 Elasticsearch 的用户获得超过默认分配的更多资源。

在投入生产环境之前，*必须* 考虑以下设置：

* <<setup-configuration-memory,禁用 swapping>>
* <<file-descriptors,增加文件描述符>>
* <<vm-max-map-count,确保足够的虚拟内存>>
* <<max-number-of-threads,确保足够的线程>>
* <<networkaddress-cache-ttl,JVM DNS 缓存设置>>

[[dev-vs-prod]]
[float]
=== 开发模式 vs 生产模式

Elasticsearch 默认假设你工作在开发模式。如果以上任一设置配置错误，日志就会记录一条警告，
但是你还是可以启动并运行 Elasticsearch 节点。

一旦你配置了类似 `network.host` 的网络设置，Elasticsearch 会假设你正迁移到生产环境，并将上文提及的
警告升级为异常。这些异常会阻止 Elasticsearch 节点启动。
这是确保你不会因配置错误而丢失数据的一种重要安全措施。

include::sysconfig/configuring.asciidoc[]

include::sysconfig/swap.asciidoc[]

include::sysconfig/file-descriptors.asciidoc[]

include::sysconfig/virtual-memory.asciidoc[]

include::sysconfig/threads.asciidoc[]

include::sysconfig/dns-cache.asciidoc[]
